#pragma config(Motor,  port1,           mpincer,       tmotorVex393_HBridge, openLoop)
#pragma config(Motor,  port2,           forklift,      tmotorVex393_MC29, openLoop)
#pragma config(Motor,  port3,           mthrower1,      tmotorVex393_MC29, openLoop)
#pragma config(Motor,  port4,           mthrower2,      tmotorVex393_MC29, openLoop)
#pragma config(Motor,  port6,           dr1,           tmotorVex269_MC29, openLoop)
#pragma config(Motor,  port8,           dl1,           tmotorVex269_MC29, openLoop)
#pragma config(Sensor, dgtl1,           ultraSonic,               sensorSONAR_inch)

task main()
{

  int speed;      
  int sonar_value;
  int distance = 25;
  
  while(true)
  {
    sonar_value = SensorValue(sonarSensor);
    
    clearLCDLine(0);
    displayLCDPos(0,0);
    displayNexLCDString("Sonar: ");
    displayNextLCDNumber(sonar_value)
    
    if(sonar_value < 0)
    {
      speed = 127;
    }
    else
    {
      speed =(sonar_value - distance)*2;
    }
    
    clearLCDLine(1);
    displayLCDPos(1,0);
    displayNextLCDString("Speed: ");
    displayNextLCDNumber(speed);
    
    motor[leftMotor] = speed;
    motor[rightMotor] = speed;
    
    wait1Msec(100);
  }
}
